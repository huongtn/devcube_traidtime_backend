{"ast":null,"code":"const mongoose = require('mongoose');\n\nconst userSchema = require('./user')(mongoose);\n\nconst purchaseSchema = require('./purchase')(mongoose);\n\nconst categorySchema = require('./category')(mongoose);\n\nconst productSchema = require('./product')(mongoose);\n\nconst User = mongoose.models.User || mongoose.model('User', userSchema);\nconst Product = mongoose.models.Product || mongoose.model('Product', productSchema);\nconst Category = mongoose.models.Category || mongoose.model('Category', categorySchema);\nconst Purchase = mongoose.models.Purchase || mongoose.model('Purchase', purchaseSchema);\nmodule.exports = {\n  User,\n  Product,\n  Purchase,\n  Category\n}; //Populate relational fields\n// purchaseSchema.pre(/^find/, function (next) {\n//   this.populate({\n//     path: 'user',\n//     select: 'email',\n//   });\n//   next();\n// });\n// purchaseSchema.pre(/^find/, function (next) {\n//   this.populate({\n//     path: 'product',\n//     select: 'title',\n//   });\n//   next();\n// });\n//const Purchase = mongoose.model('Purchase', purchaseSchema);\n// const Product = mongoose.model('Product', productSchema);\n//const User = mongoose.model('User', userSchema);\n//module.exports = {Product,Purchase};\n//module.exports = purchaseSchema;\n// module.exports =\n//   mongoose.models.Product || mongoose.model('Product', productSchema);","map":{"version":3,"sources":["/Users/kelvintran/Documents/devcube/project/devcube_traidtime_backend/models/dbContext.js"],"names":["mongoose","require","userSchema","purchaseSchema","categorySchema","productSchema","User","models","model","Product","Category","Purchase","module","exports"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,UAAU,GAAKD,OAAO,CAAC,QAAD,CAAP,CAAkBD,QAAlB,CAArB;;AACA,MAAMG,cAAc,GAAIF,OAAO,CAAC,YAAD,CAAP,CAAsBD,QAAtB,CAAxB;;AACA,MAAMI,cAAc,GAAIH,OAAO,CAAC,YAAD,CAAP,CAAsBD,QAAtB,CAAxB;;AACA,MAAMK,aAAa,GAAIJ,OAAO,CAAC,WAAD,CAAP,CAAqBD,QAArB,CAAvB;;AAEA,MAAMM,IAAI,GAAIN,QAAQ,CAACO,MAAT,CAAgBD,IAAhB,IAAwBN,QAAQ,CAACQ,KAAT,CAAe,MAAf,EAAuBN,UAAvB,CAAtC;AACA,MAAMO,OAAO,GAAIT,QAAQ,CAACO,MAAT,CAAgBE,OAAhB,IAA2BT,QAAQ,CAACQ,KAAT,CAAe,SAAf,EAA0BH,aAA1B,CAA5C;AACA,MAAMK,QAAQ,GAAGV,QAAQ,CAACO,MAAT,CAAgBG,QAAhB,IAA4BV,QAAQ,CAACQ,KAAT,CAAe,UAAf,EAA2BJ,cAA3B,CAA7C;AACA,MAAMO,QAAQ,GAAGX,QAAQ,CAACO,MAAT,CAAgBI,QAAhB,IAA4BX,QAAQ,CAACQ,KAAT,CAAe,UAAf,EAA2BL,cAA3B,CAA7C;AACAS,MAAM,CAACC,OAAP,GAAkB;AAACP,EAAAA,IAAD;AAAMG,EAAAA,OAAN;AAAcE,EAAAA,QAAd;AAAuBD,EAAAA;AAAvB,CAAlB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA","sourcesContent":["const mongoose = require('mongoose');\nconst userSchema =   require('./user')(mongoose); \nconst purchaseSchema =  require('./purchase')(mongoose); \nconst categorySchema =  require('./category')(mongoose);  \nconst productSchema =  require('./product')(mongoose);  \n\nconst User  = mongoose.models.User || mongoose.model('User', userSchema);\nconst Product =  mongoose.models.Product || mongoose.model('Product', productSchema);\nconst Category = mongoose.models.Category || mongoose.model('Category', categorySchema); \nconst Purchase = mongoose.models.Purchase || mongoose.model('Purchase', purchaseSchema); \nmodule.exports =  {User,Product,Purchase,Category}; \n\n//Populate relational fields\n// purchaseSchema.pre(/^find/, function (next) {\n//   this.populate({\n//     path: 'user',\n//     select: 'email',\n//   });\n//   next();\n// });\n\n// purchaseSchema.pre(/^find/, function (next) {\n//   this.populate({\n//     path: 'product',\n//     select: 'title',\n//   });\n//   next();\n// });\n//const Purchase = mongoose.model('Purchase', purchaseSchema);\n// const Product = mongoose.model('Product', productSchema);\n//const User = mongoose.model('User', userSchema);\n//module.exports = {Product,Purchase};\n \n//module.exports = purchaseSchema;\n\n// module.exports =\n//   mongoose.models.Product || mongoose.model('Product', productSchema);\n  \n"]},"metadata":{},"sourceType":"script"}